<?php
/** @var Router $router */
use Slim\Routing\RouteCollectorProxy as Router;

$router->group('/profile', function (Router $innerRouter) {
  $innerRouter->get('/me', '\App\Controllers\UserProfile:getCurrent');

  $innerRouter->post('/login', '\App\Controllers\UserProfile:login');
  
  $innerRouter->get('/logout', '\App\Controllers\UserProfile:logout');
});

$router->group('/entry-types', function (Router $innerRouter) {
  // get info about all of models
  $innerRouter->get('', 'App\Controllers\EntryTypes:getInfo');

  // entry type group
  $innerRouter->group('/{modelId}', function (Router $innerRouter) {
    // get info only about one entry type
    $innerRouter->get('', '\App\Controllers\EntryType:getInfo');

    // entry type items group
    $innerRouter->group('/items', function (Router $innerRouter) {
      // get many entries for type
      $innerRouter->get('', '\App\Controllers\EntryType:getManyEntries');

      // create a entry-type entry
      $innerRouter->post('/create', '\App\Controllers\EntryType:createEntry');

      // entry-type entry group
      $innerRouter->group('/{itemId}', function (Router $innerRouter) {
        $innerRouter->get('', '\App\Controllers\EntryType:getEntry');
        $innerRouter->patch('', '\App\Controllers\EntryType:updateEntry');
        $innerRouter->delete('', '\App\Controllers\EntryType:deleteEntry');
      });
    });
  });
});